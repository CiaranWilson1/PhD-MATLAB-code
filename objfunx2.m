function f = objfunx2(x,y,var)
% G21 = -0.586689002649106 + 0.119498151170060i;             %10dBm
% G21_21_10 = -0.310318329683989 - 0.404044252136689i;
% G21_21_01 = -0.051209881392139 - 0.035785308852746i;
% G21_21_11 = 0.116394739208534 + 0.003904178297551i;
% H21_21_10 = 0.050766971107569 + 0.082011620629435i;
% H21_21_01 = -0.034815284077558 + 0.138632281848587i;
% H21_21_11 = -0.135136110277208 - 0.239960051364811i;
% 
% G21 = -0.586689002649106 + 0.119498151170060i;             %10dBm diffLSOP
% G21_21_10 = -0.2927 - 0.3873i;
% G21_21_01 = -0.0259 - 0.0523i;
% G21_21_11 = 0.0176 - 0.1717i;
% H21_21_10 = 0.0432 + 0.0152i;
% H21_21_01 = 0.2736 + 0.2310i;
% H21_21_11 = -0.0746 - 0.1319i;

% G21 = -2.046589165091140 + 0.328935533623069i;             %20dBm
% G21_21_10 = -0.336466615348658 - 0.307837440973958i;
% G21_21_01 = -0.071035340445909 - 0.047618080308848i;
% G21_21_11 = 0.039670718297769 - 0.000746095039847i;
% H21_21_10 = -0.029361525863586 + 0.032689525877057i;
% H21_21_01 = 0.003174144615167 + 0.067265725006984i;
% H21_21_11 = -0.009274169307263 - 0.038377715700306i;

% G21 = -2.046589165091140 + 0.328935533623069i;             %20dBm
% G21_21_10 = -0.3268 - 0.3277i;
% G21_21_01 = -0.0681 - 0.0462i;
% G21_21_pos = 0.0045 + 0.0686i;
% G21_21_conj = 0.0118 - 0.0051i;
% G21_21_11 = 0.0949 - 0.0158i;
% H21_21_10 = -0.1443 - 0.0627i;
% H21_21_01 = -0.0379 + 0.1900i;
% H21_21_pos = 0.0115 - 0.0027i;
% H21_21_conj = -0.0053 + 0.0024i;
% H21_21_11 = -0.0100 - 0.0242i;

% G21_XY = 0.6369 - 0.0594i;
% G21_21_10XY = 0.0715 + 0.0196i;
% G21_21_01XY = 0.0310 + 0.0156i;
% G21_21_11XY = -0.0010 + 0.0001i;
% H21_21_10XY = 0.0070 - 0.0119i;
% H21_21_01XY = 0.0226 + 0.0081i;
% H21_21_11XY = -0.0001 - 0.0002i;
% G21 = -3.378745715518210 + 0.434889772926056i;             %25dBm
% G21_21_10 = -0.382888986220890 - 0.247327121433667i;
% G21_21_01 = -0.102537210294192 - 0.041606871580604i;
% G21_21_11 = 0.045727333239506 + 0.000579988122513i;
% H21_21_10 = -0.032958627967262 - 0.001300960013410i;
% H21_21_01 = 0.002819765818611 + 0.024414748630290i;
% H21_21_11 = -0.005413026807677 - 0.007723160951856i;

% Xf = -0.586689002649106 + 0.119498151170060i;
% Xs = -0.3260 - 0.4097i;
% Xt = -0.0536 - 0.0259i;

% Xf = -0.586689002649106 + 0.119498151170060i;                %10dBm
% Xs = -0.298850935342029 - 0.426174195983382i;
% Xt = -0.048800896077631 - 0.039778779368374i;
% Xu= -0.000364770159219 + 0.043508243408522i;
% Xv= -0.009743533994949 + 0.002448022954559i;
% Xw= 0.038753856045761 + 0.019813506547375i;

% Xf = -0.586689002649106 + 0.119498151170060i;             %10dBmdiffLSOP
% Xs = -0.3211 - 0.3313i;
% Xt = -0.0329 - 0.0573i;
% Xu= 0.0574 + 0.0512i;
% Xv= -0.0164 + 0.0112i;
% Xw= -0.0993 - 0.0289i;

% Xf = -2.046589165091140 + 0.328935533623069i;                 %20dBm
% Xs = -0.315397685181650 - 0.336775399313027i;
% Xt =-0.065158958008933 - 0.056304006267495i;
% Xu= -0.012484444291734 - 0.003311078489488i;
% Xv= -0.003864783378299 + 0.002858518604053i;
% Xw=0.014571727236568 + 0.014804590571468i;

% Xf = -3.378745715518210 + 0.434889772926056i;                 %25dBm
% Xs = -0.377677023896066 - 0.265388674489762i;
% Xt =-0.102508815187502 - 0.051448161425309i;
% Xu= -0.010839597076553 - 0.013308846657571i;
% Xv= -0.001705199103894 + 0.001664386743360i;
% Xw=0.037836556407859 + 0.006203144390517i;

% Xf = -4.450241047673360 + 0.431544745343981i;                 %30dBm
% Xs = -0.495181846666678 - 0.122221606115199i;
% Xt =-0.168578686200136 - 0.085084550768233i;
% Xu= -0.007822509266443 - 0.009866463493993i;
% Xv= -0.001263111761821 - 0.002435780947600i;
% Xw=0.034055215233933 + 0.002897722157943i;

Xf = var(1);
Xs = var(2);
Xt = var(3);
Xu= var(4);
Xv= var(5);
Xw= var(6);
Xz= var(7);
% 
% XI = 0.6517;                %30dBm
% XY = 0.0938 + j*-0.0990;

XI = 0.0843551;             %10dBm
%XY = 0.030155554126115 - 0.038243323198444i;
XY=0.0478 - 0.0652i;
% % 
% b21s(x,y) = G21 + (G21_21_10*x + G21_21_01*y + G21_21_11*x*y)./(1 + H21_21_10*x + H21_21_01*y + H21_21_11*x*y);
% 
% f = b21s(x,y)*conj(b21s(y,x)) - x*y;

% Imod_Pade = G21_XY+(G21_21_10XY*(x+y*1i)+G21_21_01XY*conj((x+y*1i))+G21_21_11XY*(x+y*1i).*conj((x+y*1i)))./(1+H21_21_10XY*(x+y*1i)+H21_21_01XY*conj((x+y*1i))+H21_21_11XY*conj((x+y*1i)).*(x+y*1i));
% A21 = ((x+y*1i+VD_lsop) + 50*Imod_Pade)/(2*sqrt(50));
% B21 = ((x+y*1i+VD_lsop) - 50*Imod_Pade)/(2*sqrt(50));

%f=(abs(Xf + Xs*(x+y*1i) + Xt*conj(x+y*1i)).^2 - (x+y*1i)*conj(x+y*1i))./(2*28*(XI + real(XY)*(x)+(-1)*imag(XY)*y));
%f=(abs(Xf + Xs*(x+y*1i) + Xt*conj(x+y*1i) + Xu*(x+y*1i)^2 + Xv*conj(x+y*1i)^2 + Xw*(x+y*1i)*conj(x+y*1i)).^2 - (x+y*1i)*conj(x+y*1i))./(2*28*(XI + real(XY)*(x)+(-1)*imag(XY)*y));
f=(abs(Xf + Xs*(x+y*1i) + Xt*conj(x+y*1i) + Xu*(x+y*1i)^2 + Xv*conj(x+y*1i) + Xw*(x+y*1i)*conj(x+y*1i) + Xz*(x+y*1i)^3).^2 - (x+y*1i)*conj(x+y*1i))./(2*28*(XI + real(XY)*(x)+(-1)*imag(XY)*y));


end